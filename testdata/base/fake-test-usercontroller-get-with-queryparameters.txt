import * as supertest from "supertest";
import * as chai from "chai";

it("获得所有用户信息", (done: MochaDone) => {
  supertest("https://api.gagogroup.cn/api")
    .get("/products?pid=5")
    .expect((res: supertest.Response) => {
      chai.expect(res["data"]["users"][0]["uid"]).to.equal(1);
      chai.expect(res["data"]["users"][0]["displayName"]).to.equal("linxiaoyi");
      chai.expect(res["data"]["users"][1]["uid"]).to.equal(2);
      chai.expect(res["data"]["users"][1]["displayName"]).to.equal("huangtaihu");
    })
    .expect(200, done);
});

